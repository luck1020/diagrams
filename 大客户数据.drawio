<mxfile host="app.diagrams.net" modified="2022-08-17T06:44:03.342Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36" etag="1I4a5tIY5xAUnL0bouJR" version="20.2.4" type="github">
  <diagram id="e685q4iBt2poqx3Ax8Bi" name="第 1 页">
    <mxGraphModel dx="5982" dy="3854" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="i3PDp7YJnPM0RY5VU06C-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=70;" edge="1" parent="1" source="i3PDp7YJnPM0RY5VU06C-33" target="i3PDp7YJnPM0RY5VU06C-35">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2210" y="1560" />
              <mxPoint x="815" y="1560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-33" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFCC;fontSize=8;fillColor=#00CCCC;" vertex="1" parent="1">
          <mxGeometry x="950" y="1080" width="3900" height="380" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-83" value="&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFE6CC;" parent="1" vertex="1">
          <mxGeometry x="-400" y="-430" width="3450" height="1490" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-83" target="KX4ZCdjOSbOEscAZlVXC-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-68" target="KX4ZCdjOSbOEscAZlVXC-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-68" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#99CCFF;" parent="1" vertex="1">
          <mxGeometry x="2110" y="210" width="720" height="250" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-30" style="edgeStyle=orthogonalEdgeStyle;shape=flexArrow;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-28" target="KX4ZCdjOSbOEscAZlVXC-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-28" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#00CCCC;" parent="1" vertex="1">
          <mxGeometry x="-60" y="-310" width="1340" height="800" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=none;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-1" target="KX4ZCdjOSbOEscAZlVXC-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;dashed=1;dashPattern=1 1;shape=link;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-1" target="KX4ZCdjOSbOEscAZlVXC-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-8" value="&lt;span style=&quot;font-size: 11px;&quot;&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;D.ID = M.ID&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-7" vertex="1" connectable="0">
          <mxGeometry x="0.2" y="-2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;dashPattern=1 1;shape=link;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-1" target="KX4ZCdjOSbOEscAZlVXC-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-24" value="AND D.ITEM_ID = B.ITEM_ID --出库批次.商品编号==客户订单商品明细.单品编号" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-23" vertex="1" connectable="0">
          <mxGeometry x="-0.1339" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-1" value="WH_DELIVERYS_BATCH &lt;br&gt;D&lt;br&gt;--出库批次" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" parent="1" vertex="1">
          <mxGeometry x="100" y="80" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-2" value="WH_DELIVERYS&lt;br&gt;M&lt;br&gt;--出库表(用于发货)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" parent="1" vertex="1">
          <mxGeometry x="140" y="-90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-3" value="CO&amp;nbsp;&lt;br&gt;C&lt;br&gt;--订单信息表" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" parent="1" vertex="1">
          <mxGeometry x="710" y="160" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-25" style="edgeStyle=orthogonalEdgeStyle;shape=link;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-5" target="KX4ZCdjOSbOEscAZlVXC-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-26" value="&lt;span style=&quot;font-size: 12px; text-align: left; background-color: rgb(248, 249, 250);&quot;&gt;AND C.ID = B.ID --订单信息表.主键==客户订单商品明细.主键&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-25" vertex="1" connectable="0">
          <mxGeometry x="-0.3647" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-5" value="&lt;div&gt;&amp;nbsp;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt; DISTINCT T.ID,--主键&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;  &lt;/span&gt;T.ITEM_ID,--单品编号&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;  &lt;/span&gt; T.SINGLE_PRICE --单个商品价格&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;  &lt;/span&gt; FROM CO_ITEMS T --客户订单商品明细&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;WHERE T.DELETE_FLAG = 0 --不删除的&lt;span style=&quot;background-color: initial;&quot;&gt;)&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;B&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;text-align: left;&quot;&gt;客户订单商品明细&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="80" y="270" width="240" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-29" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;C.ID CO_ID,--订单信息表.主键&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;C.TYPE_,--订单信息表.类型&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;C.CUSTOMER_ID,--订单信息表.顾客编号&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;C.DEPT_SELL,--订单信息表.销售部门&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;D.ITEM_ID,--出库批次.商品编号&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;D.UNIT_ID_BASE AS UNIT_ID,--出库批次.计量单位编号&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;D.BATCH_NO,--出库批次.批次编号&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;D.QUANTITY_ACTUAL_BASE AS QUANTITY,--出库批次.计划发货数量&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;B.SINGLE_PRICE AS PRICE,--客户订单商品明细.单个商品价格&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;D.UNIT_COST AS COST,--出库批次.成本单价&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;SUBSTR( M.APPROVE_TIME, 1, 4 ) MONTH_YEAR,--审批时间年yyyy&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;SUBSTR( M.APPROVE_TIME, 1, 7 ) MONTH_DT,--审批时间月yyyy-mm&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;SUBSTR( M.APPROVE_TIME, 1, 10 ) co_DT,--审批时间日yyyy-mm-dd&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;to_number( SUBSTR( M.APPROVE_TIME, 9, 2 ) ) sale_day,--销售日&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;M.REPOSITORY_ID --仓库ID&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;T1&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="1070" y="650" width="590" height="290" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;shape=flexArrow;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1370" y="650" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1670" y="570" />
              <mxPoint x="1370" y="570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-31" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#009900;" parent="1" vertex="1">
          <mxGeometry x="1410" y="-70" width="590" height="240" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;shape=link;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-32" target="KX4ZCdjOSbOEscAZlVXC-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-37" value="D.ID = T.ID" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-36" vertex="1" connectable="0">
          <mxGeometry x="0.1844" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-32" value="&lt;span style=&quot;&quot;&gt;    &lt;/span&gt;CO_BATCH&amp;nbsp;&lt;br&gt;D &lt;br&gt;--订单批次表" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="80" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-33" value="CO &lt;br&gt;T &lt;br&gt;--订单信息表" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1840" y="80" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-38" target="KX4ZCdjOSbOEscAZlVXC-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-38" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt;AND T.TYPE_ = 1&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt;AND T.STATUS_ IN ( 1, 4, 100 )&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt;AND T.DELETE_FLAG = 0&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt;AND ( T.APPROVE_TIME &amp;gt;= to_char( SYSDATE - 1, &#39;yyyy&#39; ) || &#39;-01-01&#39; AND T.APPROVE_TIME &amp;lt; to_char( SYSDATE, &#39;yyyy-mm-dd&#39; ) )&amp;nbsp;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1465" y="-50" width="370" height="100" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-43" target="KX4ZCdjOSbOEscAZlVXC-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-43" value="AND M.TYPE_ = 1 --出库表.1,销售&lt;br&gt;&lt;br&gt;AND M.ENTITY_ID = C.ID --出库表.移仓、调拨单号=客户订单.编号&lt;br&gt;&lt;br&gt;&amp;nbsp;AND M.STATUS_ = 4 --出库表.4完成" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="-10" y="-270" width="420" height="165" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-46" target="KX4ZCdjOSbOEscAZlVXC-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-46" value="&lt;div&gt;AND C.STATUS_ IN ( 1, 4, 100 ) --1:生效,4:订单终止，100:完成&lt;/div&gt;&lt;div&gt;AND C.TYPE_ = 0 --0:正常销售&lt;/div&gt;&lt;div&gt;AND ( M.APPROVE_TIME &amp;gt;= to_char( SYSDATE - 1, &#39;yyyy&#39; ) || &#39;-01-01&#39; AND M.APPROVE_TIME &amp;lt; to_char( SYSDATE, &#39;yyyy-mm-dd&#39; ) ) --审批时间&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;text-align: left;&quot;&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="360" y="-50" width="820" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-48" target="KX4ZCdjOSbOEscAZlVXC-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-61" value="&lt;span style=&quot;font-size: 12px; background-color: rgb(248, 249, 250);&quot;&gt;ON RP.ID = T1.BATCH_NO&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-60" vertex="1" connectable="0">
          <mxGeometry x="-0.0894" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-48" value="&lt;span style=&quot;&quot;&gt; &lt;/span&gt;LEFT JOIN RECEIPTS &lt;br&gt;RP &lt;br&gt;--入库主表" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" parent="1" vertex="1">
          <mxGeometry x="393" y="771" width="220" height="47.5" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-50" target="KX4ZCdjOSbOEscAZlVXC-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-59" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(248, 249, 250);&quot;&gt;ON PO.ID = RP.PO_ID-&lt;br&gt;&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-58" vertex="1" connectable="0">
          <mxGeometry x="0.1519" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-50" value="LEFT JOIN PO &lt;br&gt;po&lt;br&gt;-采购订单" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" parent="1" vertex="1">
          <mxGeometry x="-10" y="767" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-63" target="KX4ZCdjOSbOEscAZlVXC-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-66" value="&amp;nbsp;V_C.ID = V_I.ID" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-65" vertex="1" connectable="0">
          <mxGeometry x="-0.2299" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-63" value="&lt;span style=&quot;&quot;&gt; &lt;/span&gt;VENDOR_ITEMS &lt;br&gt;V_I&lt;br&gt;&amp;nbsp;--供应商商品对照 2009.12.15" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="2220" y="295" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-64" value="VENDOR_CONTRACTS V_C&lt;br&gt;--供应商合同 -- 运费在入库后由供应链中心（角色？）录入到对应的" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="2500" y="290" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-67" target="KX4ZCdjOSbOEscAZlVXC-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-67" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;V_I.ITEM_ID,&lt;/div&gt;&lt;div&gt;V_C.VENDOR_ID,&lt;/div&gt;&lt;div&gt;V_I.SUPPLY_LEVEL,&lt;/div&gt;&lt;div&gt;ROW_NUMBER ( ) OVER (&lt;/div&gt;&lt;div&gt;PARTITION BY V_I.ITEM_ID&amp;nbsp;&lt;/div&gt;&lt;div&gt;ORDER BY&lt;/div&gt;&lt;div&gt;CASE&lt;/div&gt;&lt;div&gt;WHEN V_I.SUPPLY_LEVEL = 1 THEN&lt;/div&gt;&lt;div&gt;0 ELSE 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;END,&lt;/div&gt;&lt;div&gt;CASE&lt;/div&gt;&lt;div&gt;WHEN V_C.STATUS_ IN ( 0, 1 ) THEN&lt;/div&gt;&lt;div&gt;0 ELSE 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;END,&lt;/div&gt;&lt;div&gt;CASE&lt;/div&gt;&lt;div&gt;WHEN V_I.DELETE_FLAG = 0 THEN&lt;/div&gt;&lt;div&gt;0 ELSE 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;END,&lt;/div&gt;&lt;div&gt;V_C.VENDOR_ID DESC&amp;nbsp;&lt;/div&gt;&lt;div&gt;) AS RID&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;         &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;         &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;         &lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=default;align=left;" parent="1" vertex="1">
          <mxGeometry x="2340" y="615" width="260" height="370" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-71" target="KX4ZCdjOSbOEscAZlVXC-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-80" value="V_I.ITEM_ID = T1.ITEM_ID" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-79" vertex="1" connectable="0">
          <mxGeometry x="-0.1081" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-71" value="&lt;div&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;ITEM_ID,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;      &lt;/span&gt;VENDOR_ID&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;V_I&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" parent="1" vertex="1">
          <mxGeometry x="2010" y="760" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-73" target="KX4ZCdjOSbOEscAZlVXC-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-73" value="&lt;span style=&quot;&quot;&gt; &lt;/span&gt;RID = 1&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2210" y="760" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-84" value="&lt;div&gt;&lt;span style=&quot;&quot;&gt;   &lt;/span&gt;T1.*,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;NVL( PO.VENDOR_ID, V_I.VENDOR_ID ) AS VENDOR_ID,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;RES.CORP_ID,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;SUBSTR( RP.APPROVE_TIME, 1, 4 ) APPROVE_TIME&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;	&lt;/span&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;T2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=default;align=left;" parent="1" vertex="1">
          <mxGeometry x="1185" y="1220" width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-86" target="KX4ZCdjOSbOEscAZlVXC-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-86" value="VENDOR_CONTRACTS &lt;br&gt;C&lt;br&gt;&amp;nbsp;--供应商合同 -- 运费在入库后由供应链中心（角色？）录入到对应的" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;align=center;" parent="1" vertex="1">
          <mxGeometry x="2000" y="1097.5" width="410" height="75" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-87" target="KX4ZCdjOSbOEscAZlVXC-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-87" value="&lt;div&gt;&lt;span style=&quot;&quot;&gt;  &lt;/span&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;C.STATUS_ IN ( 0, 1 )&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;AND C.DELETE_FLAG = 0&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;    &lt;/span&gt;GROUP BY&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;C.VENDOR_ID&amp;nbsp;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="1705" y="1085" width="260" height="100" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 1;" parent="1" source="KX4ZCdjOSbOEscAZlVXC-84" target="KX4ZCdjOSbOEscAZlVXC-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-92" value="ON V_C.VENDOR_ID = T2.VENDOR_ID" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KX4ZCdjOSbOEscAZlVXC-91" vertex="1" connectable="0">
          <mxGeometry x="0.1909" y="1" relative="1" as="geometry">
            <mxPoint x="-19" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="KX4ZCdjOSbOEscAZlVXC-89" target="i3PDp7YJnPM0RY5VU06C-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KX4ZCdjOSbOEscAZlVXC-89" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;C.VENDOR_ID,&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;&quot;&gt;     &lt;/span&gt;MAX( C.ID ) AS ID&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: center;&quot;&gt;V_C&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;align=center;" parent="1" vertex="1">
          <mxGeometry x="1760" y="1250" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;" edge="1" parent="1" source="i3PDp7YJnPM0RY5VU06C-2" target="i3PDp7YJnPM0RY5VU06C-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-2" value="VENDOR_ITEMS &lt;br&gt;V_I&lt;br&gt;&amp;nbsp;--供应商商品对照 2009.12.15" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" vertex="1" parent="1">
          <mxGeometry x="2480" y="1235" width="240" height="110" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="i3PDp7YJnPM0RY5VU06C-6" target="i3PDp7YJnPM0RY5VU06C-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-6" value="&lt;div&gt;ON V_I.ID = V_C.ID&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;				&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;				&lt;/span&gt;AND V_I.ITEM_ID = T2.ITEM_ID&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;				&lt;/span&gt;AND V_I.DELETE_FLAG = 0&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFCCFF;" vertex="1" parent="1">
          <mxGeometry x="2030" y="1220" width="380" height="140" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-10" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=1;fontSize=12;fillColor=#FFFFCC;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1430" y="1284.77" as="sourcePoint" />
            <mxPoint x="1500" y="1284.77" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-11" value="Left join" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;fillColor=#FFFFCC;strokeColor=default;rounded=1;labelBackgroundColor=#FFFFCC;" vertex="1" connectable="0" parent="i3PDp7YJnPM0RY5VU06C-10">
          <mxGeometry x="0.2125" y="-4" relative="1" as="geometry">
            <mxPoint x="-22" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-14" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=1;fontSize=12;fillColor=#FFFFCC;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1920" y="1289.68" as="sourcePoint" />
            <mxPoint x="1990" y="1289.68" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-15" value="Left join" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;fillColor=#FFFFCC;strokeColor=default;rounded=1;labelBackgroundColor=#FFFFCC;" vertex="1" connectable="0" parent="i3PDp7YJnPM0RY5VU06C-14">
          <mxGeometry x="0.2125" y="-4" relative="1" as="geometry">
            <mxPoint x="-22" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=8;" edge="1" parent="1" source="i3PDp7YJnPM0RY5VU06C-20" target="i3PDp7YJnPM0RY5VU06C-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-20" value="VENDOR_PRODUCTS_TYPES&lt;br&gt;VPT&lt;br&gt;--供应商产品分类" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" vertex="1" parent="1">
          <mxGeometry x="3460" y="1235" width="240" height="110" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;" edge="1" parent="1" source="i3PDp7YJnPM0RY5VU06C-21" target="i3PDp7YJnPM0RY5VU06C-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-21" value="&lt;div&gt;ON VPT.VENDOR_ID = V_C.VENDOR_ID --供应商产品分类&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;				&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;				&lt;/span&gt;AND VPT.TYPE_ = V_I.TYPE_&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;				&lt;/span&gt;AND VPT.DELETE_FLAG = 0&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFCCFF;" vertex="1" parent="1">
          <mxGeometry x="2970" y="1220" width="380" height="140" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-24" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=1;fontSize=12;fillColor=#FFFFCC;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2790" y="1289.23" as="sourcePoint" />
            <mxPoint x="2860" y="1289.23" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-25" value="Left join" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;fillColor=#FFFFCC;strokeColor=default;rounded=1;labelBackgroundColor=#FFFFCC;" vertex="1" connectable="0" parent="i3PDp7YJnPM0RY5VU06C-24">
          <mxGeometry x="0.2125" y="-4" relative="1" as="geometry">
            <mxPoint x="-22" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-26" value="Vendor_Products_Types_Rebate &lt;br&gt;VPTR&amp;nbsp;&lt;br&gt;--供应商年度返利表" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#33FF33;" vertex="1" parent="1">
          <mxGeometry x="4460" y="1235" width="240" height="110" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;" edge="1" parent="1" source="i3PDp7YJnPM0RY5VU06C-28" target="i3PDp7YJnPM0RY5VU06C-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-28" value="ON VPTR.TYPE_ = VPT.TYPE_&lt;br&gt;&lt;div&gt;AND VPTR.CORP_ID = T2.CORP_ID&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;				&lt;/span&gt;AND VPTR.YEAR = SUBSTR( T2.APPROVE_TIME, 0, 4 )&amp;nbsp;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFCCFF;" vertex="1" parent="1">
          <mxGeometry x="3980" y="1220" width="380" height="140" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-31" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=1;fontSize=12;fillColor=#FFFFCC;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3820" y="1289.09" as="sourcePoint" />
            <mxPoint x="3890" y="1289.09" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-32" value="Left join" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;fillColor=#FFFFCC;strokeColor=default;rounded=1;labelBackgroundColor=#FFFFCC;" vertex="1" connectable="0" parent="i3PDp7YJnPM0RY5VU06C-31">
          <mxGeometry x="0.2125" y="-4" relative="1" as="geometry">
            <mxPoint x="-22" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-35" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;T2.*,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;T2.QUANTITY * T2.PRICE AS PRICE_MONEY,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;T2.QUANTITY * T2.COST AS COST_MONEY,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;VPT.TYPE_ AS VPT_TYPE_,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;VPT.NAME_ AS VPT_NAME,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;VPTR.BASIS_REBATE,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;(&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;CASE&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;VPTR.VENDOR_REBATE_TYPE&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;WHEN 2 THEN&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;T2.COST - DECODE( VPTR.UNIT_REBATE, NULL, 0, VPTR.UNIT_REBATE ) ELSE T2.COST * ( 1 - NVL( VPTR.BASIS_REBATE, 0 ) / 100 )&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;END&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;) AS PURE_COST,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;(&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;CASE&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;VPTR.VENDOR_REBATE_TYPE&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;WHEN 2 THEN&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;T2.COST - DECODE( VPTR.UNIT_REBATE, NULL, 0, VPTR.UNIT_REBATE ) ELSE T2.COST * ( 1 - NVL( VPTR.BASIS_REBATE, 0 ) / 100 )&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;END&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div&gt;) * T2.QUANTITY PURE_COST_MONEY&amp;nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=12;fillColor=default;align=left;" vertex="1" parent="1">
          <mxGeometry x="414" y="1610" width="890" height="460" as="geometry" />
        </mxCell>
        <mxCell id="i3PDp7YJnPM0RY5VU06C-34" value="&lt;font style=&quot;font-size: 70px;&quot;&gt;TD&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="780" y="1960" width="120" height="100" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
